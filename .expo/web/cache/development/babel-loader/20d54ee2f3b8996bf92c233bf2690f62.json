{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from \"react\";\nimport { useContextKey } from \"../Route\";\nimport { useSortedScreens } from \"../useScreens\";\nimport { Screen } from \"../views/Screen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useFilterScreenChildren(children) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    isCustomNavigator = _ref.isCustomNavigator,\n    contextKey = _ref.contextKey;\n  return React.useMemo(function () {\n    var customChildren = [];\n    var screens = React.Children.map(children, function (child) {\n      if (React.isValidElement(child) && child && child.type === Screen) {\n        if (!child.props.name) {\n          throw new Error(\"<Screen /> component in `default export` at `app\" + contextKey + \"/_layout` must have a `name` prop when used as a child of a Layout Route.\");\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          if ([\"children\", \"component\", \"getComponent\"].some(function (key) {\n            return key in child.props;\n          })) {\n            throw new Error(\"<Screen /> component in `default export` at `app\" + contextKey + \"/_layout` must not have a `children`, `component`, or `getComponent` prop when used as a child of a Layout Route\");\n          }\n        }\n        return child.props;\n      } else {\n        if (isCustomNavigator) {\n          customChildren.push(child);\n        } else {\n          console.warn(\"Layout children must be of type Screen, all other children are ignored. To use custom children, create a custom <Layout />. Update Layout Route at: \\\"app\" + contextKey + \"/_layout\\\"\");\n        }\n      }\n    });\n\n    if (process.env.NODE_ENV !== \"production\") {\n      var names = screens == null ? void 0 : screens.map(function (screen) {\n        return screen.name;\n      });\n      if (names && new Set(names).size !== names.length) {\n        throw new Error(\"Screen names must be unique: \" + names);\n      }\n    }\n    return {\n      screens: screens,\n      children: customChildren\n    };\n  }, [children]);\n}\n\nexport function withLayoutContext(Nav, processor) {\n  var Navigator = React.forwardRef(function (_ref2, ref) {\n    var userDefinedChildren = _ref2.children,\n      props = _objectWithoutProperties(_ref2, _excluded);\n    var contextKey = useContextKey();\n    var _useFilterScreenChild = useFilterScreenChildren(userDefinedChildren, {\n        contextKey: contextKey\n      }),\n      screens = _useFilterScreenChild.screens;\n    var processed = processor ? processor(screens != null ? screens : []) : screens;\n    var sorted = useSortedScreens(processed != null ? processed : []);\n\n    if (!sorted.length) {\n      return null;\n    }\n    return _jsx(Nav, _objectSpread(_objectSpread({}, props), {}, {\n      id: contextKey,\n      ref: ref,\n      children: sorted\n    }));\n  });\n\n  Navigator.Screen = Screen;\n  return Navigator;\n}","map":{"version":3,"names":["React","useContextKey","useSortedScreens","Screen","useFilterScreenChildren","children","isCustomNavigator","contextKey","useMemo","customChildren","screens","Children","map","child","isValidElement","type","props","name","Error","process","env","NODE_ENV","some","key","push","console","warn","names","screen","Set","size","length","withLayoutContext","Nav","processor","Navigator","forwardRef","ref","userDefinedChildren","processed","sorted"],"sources":["C:/react-project/rn-jobs/node_modules/expo-router/src/layouts/withLayoutContext.tsx"],"sourcesContent":["import React from \"react\";\n\nimport { useContextKey } from \"../Route\";\nimport { PickPartial } from \"../types\";\nimport { useSortedScreens, ScreenProps } from \"../useScreens\";\nimport { Screen } from \"../views/Screen\";\n\nexport function useFilterScreenChildren(\n  children: React.ReactNode,\n  {\n    isCustomNavigator,\n    contextKey,\n  }: {\n    isCustomNavigator?: boolean;\n    /** Used for sending developer hints */\n    contextKey?: string;\n  } = {}\n) {\n  return React.useMemo(() => {\n    const customChildren: any[] = [];\n    const screens = React.Children.map(children, (child) => {\n      if (React.isValidElement(child) && child && child.type === Screen) {\n        if (!child.props.name) {\n          throw new Error(\n            `<Screen /> component in \\`default export\\` at \\`app${contextKey}/_layout\\` must have a \\`name\\` prop when used as a child of a Layout Route.`\n          );\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          if (\n            [\"children\", \"component\", \"getComponent\"].some(\n              (key) => key in child.props\n            )\n          ) {\n            throw new Error(\n              `<Screen /> component in \\`default export\\` at \\`app${contextKey}/_layout\\` must not have a \\`children\\`, \\`component\\`, or \\`getComponent\\` prop when used as a child of a Layout Route`\n            );\n          }\n        }\n        return child.props;\n      } else {\n        if (isCustomNavigator) {\n          customChildren.push(child);\n        } else {\n          console.warn(\n            `Layout children must be of type Screen, all other children are ignored. To use custom children, create a custom <Layout />. Update Layout Route at: \"app${contextKey}/_layout\"`\n          );\n        }\n      }\n    });\n\n    // Add an assertion for development\n    if (process.env.NODE_ENV !== \"production\") {\n      // Assert if names are not unique\n      const names = screens?.map((screen) => screen.name);\n      if (names && new Set(names).size !== names.length) {\n        throw new Error(\"Screen names must be unique: \" + names);\n      }\n    }\n\n    return {\n      screens,\n      children: customChildren,\n    };\n  }, [children]);\n}\n\n/** Return a navigator that automatically injects matched routes and renders nothing when there are no children. Return type with children prop optional */\nexport function withLayoutContext<\n  TOptions extends object,\n  T extends React.ComponentType<any>\n>(\n  Nav: T,\n  processor?: (options: ScreenProps<TOptions>[]) => ScreenProps<TOptions>[]\n): React.ForwardRefExoticComponent<\n  React.PropsWithoutRef<PickPartial<React.ComponentProps<T>, \"children\">> &\n    React.RefAttributes<unknown>\n> & {\n  Screen: (props: ScreenProps<TOptions>) => null;\n} {\n  const Navigator = React.forwardRef(\n    (\n      {\n        children: userDefinedChildren,\n        ...props\n      }: PickPartial<React.ComponentProps<T>, \"children\">,\n      ref\n    ) => {\n      const contextKey = useContextKey();\n\n      const { screens } = useFilterScreenChildren(userDefinedChildren, {\n        contextKey,\n      });\n\n      const processed = processor ? processor(screens ?? []) : screens;\n\n      const sorted = useSortedScreens(processed ?? []);\n\n      // Prevent throwing an error when there are no screens.\n      if (!sorted.length) {\n        return null;\n      }\n\n      return (\n        // @ts-expect-error\n        <Nav {...props} id={contextKey} ref={ref} children={sorted} />\n      );\n    }\n  );\n\n  // @ts-expect-error\n  Navigator.Screen = Screen;\n  // @ts-expect-error\n  return Navigator;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}