{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LogBoxInspectorCodeFrame = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar LogBoxInspectorSection_1 = require(\"./LogBoxInspectorSection\");\nvar AnsiHighlight_1 = require(\"../UI/AnsiHighlight\");\nvar LogBoxButton_1 = require(\"../UI/LogBoxButton\");\nvar LogBoxStyle = __importStar(require(\"../UI/LogBoxStyle\"));\nvar constants_1 = require(\"../UI/constants\");\nvar formatProjectFilePath_1 = require(\"../formatProjectFilePath\");\nvar openFileInEditor_1 = __importDefault(require(\"../modules/openFileInEditor\"));\nfunction LogBoxInspectorCodeFrame(props) {\n  var codeFrame = props.codeFrame;\n  if (codeFrame == null) {\n    return null;\n  }\n  function getFileName() {\n    return (0, formatProjectFilePath_1.formatProjectFileName)(codeFrame === null || codeFrame === void 0 ? void 0 : codeFrame.fileName);\n  }\n  function getLocation() {\n    var location = codeFrame === null || codeFrame === void 0 ? void 0 : codeFrame.location;\n    if (location != null) {\n      return \" (\" + location.row + \":\" + (location.column + 1) + \")\";\n    }\n    return null;\n  }\n  return react_1.default.createElement(LogBoxInspectorSection_1.LogBoxInspectorSection, {\n    heading: \"Source\"\n  }, react_1.default.createElement(react_native_1.View, {\n    style: styles.box\n  }, react_1.default.createElement(react_native_1.View, {\n    style: styles.frame\n  }, react_1.default.createElement(react_native_1.ScrollView, {\n    horizontal: true\n  }, react_1.default.createElement(AnsiHighlight_1.Ansi, {\n    style: styles.content,\n    text: codeFrame.content\n  }))), react_1.default.createElement(LogBoxButton_1.LogBoxButton, {\n    backgroundColor: {\n      default: \"transparent\",\n      pressed: LogBoxStyle.getBackgroundDarkColor(1)\n    },\n    style: styles.button,\n    onPress: function onPress() {\n      var _a, _b;\n      (0, openFileInEditor_1.default)(codeFrame.fileName, (_b = (_a = codeFrame.location) === null || _a === void 0 ? void 0 : _a.row) !== null && _b !== void 0 ? _b : 0);\n    }\n  }, react_1.default.createElement(react_native_1.Text, {\n    selectable: false,\n    style: styles.fileText\n  }, getFileName(), getLocation()))));\n}\nexports.LogBoxInspectorCodeFrame = LogBoxInspectorCodeFrame;\nvar styles = react_native_1.StyleSheet.create({\n  box: {\n    backgroundColor: LogBoxStyle.getBackgroundColor(),\n    borderWidth: 1,\n    borderColor: \"#323232\",\n    marginLeft: 10,\n    marginRight: 10,\n    marginTop: 5,\n    borderRadius: 3\n  },\n  frame: {\n    padding: 10,\n    borderBottomColor: LogBoxStyle.getTextColor(0.1),\n    borderBottomWidth: 1\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10\n  },\n  content: {\n    color: LogBoxStyle.getTextColor(1),\n    fontSize: 12,\n    includeFontPadding: false,\n    lineHeight: 20,\n    fontFamily: constants_1.CODE_FONT\n  },\n  fileText: {\n    color: LogBoxStyle.getTextColor(0.5),\n    textAlign: \"center\",\n    flex: 1,\n    fontSize: 16,\n    includeFontPadding: false,\n    fontFamily: constants_1.CODE_FONT\n  }\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;AAA0B;AAG1B;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAgBA,wBAAwB,CAACC,KAAgC;EACvE,IAAMC,SAAS,GAAGD,KAAK,CAACC,SAAS;EACjC,IAAIA,SAAS,IAAI,IAAI,EAAE;IACrB,OAAO,IAAI;;EAGb,SAASC,WAAW;IAClB,OAAO,iDAAqB,EAACD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEE,QAAQ,CAAC;EACnD;EAEA,SAASC,WAAW;IAClB,IAAMC,QAAQ,GAAGJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,QAAQ;IACpC,IAAIA,QAAQ,IAAI,IAAI,EAAE;MACpB,cAAYA,QAAQ,CAACC,GAAG,UACtBD,QAAQ,CAACE,MAAM,GAAG,CAAC;;IAIvB,OAAO,IAAI;EACb;EAEA,OACEC,8BAACC,+CAAsB;IAACC,OAAO,EAAC;EAAQ,GACtCF,8BAACG,mBAAI;IAACC,KAAK,EAAEC,MAAM,CAACC;EAAG,GACrBN,8BAACG,mBAAI;IAACC,KAAK,EAAEC,MAAM,CAACE;EAAK,GACvBP,8BAACG,yBAAU;IAACK,UAAU;EAAA,GACpBR,8BAACS,oBAAI;IAACL,KAAK,EAAEC,MAAM,CAACK,OAAO;IAAEC,IAAI,EAAElB,SAAS,CAACiB;EAAO,EAAI,CAC7C,CACR,EACPV,8BAACY,2BAAY;IACXC,eAAe,EAAE;MACfC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAEC,WAAW,CAACC,sBAAsB,CAAC,CAAC;KAC9C;IACDb,KAAK,EAAEC,MAAM,CAACa,MAAM;IACpBC,OAAO,EAAE,mBAAK;;MACZ,8BAAgB,EAAC1B,SAAS,CAACE,QAAQ,EAAE,qBAAS,CAACE,QAAQ,0CAAEC,GAAG,mCAAI,CAAC,CAAC;IACpE;EAAC,GAEDE,8BAACG,mBAAI;IAACiB,UAAU,EAAE,KAAK;IAAEhB,KAAK,EAAEC,MAAM,CAACgB;EAAQ,GAC5C3B,WAAW,EAAE,EACbE,WAAW,EAAE,CACT,CACM,CACV,CACgB;AAE7B;AA/CA0B;AAiDA,IAAMjB,MAAM,GAAGF,yBAAU,CAACoB,MAAM,CAAC;EAC/BjB,GAAG,EAAE;IACHO,eAAe,EAAEG,WAAW,CAACQ,kBAAkB,EAAE;IACjDC,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtBC,UAAU,EAAE,EAAE;IACdC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,CAAC;IACZC,YAAY,EAAE;GACf;EACDvB,KAAK,EAAE;IACLwB,OAAO,EAAE,EAAE;IACXC,iBAAiB,EAAEhB,WAAW,CAACiB,YAAY,CAAC,GAAG,CAAC;IAChDC,iBAAiB,EAAE;GACpB;EACDhB,MAAM,EAAE;IACNiB,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE;GAChB;EACD1B,OAAO,EAAE;IACP2B,KAAK,EAAErB,WAAW,CAACiB,YAAY,CAAC,CAAC,CAAC;IAClCK,QAAQ,EAAE,EAAE;IACZC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAE,EAAE;IACdC,UAAU,EAAEC;GACb;EACDrB,QAAQ,EAAE;IACRgB,KAAK,EAAErB,WAAW,CAACiB,YAAY,CAAC,GAAG,CAAC;IACpCU,SAAS,EAAE,QAAQ;IACnBC,IAAI,EAAE,CAAC;IACPN,QAAQ,EAAE,EAAE;IACZC,kBAAkB,EAAE,KAAK;IACzBE,UAAU,EAAEC;;CAEf,CAAC","names":["LogBoxInspectorCodeFrame","props","codeFrame","getFileName","fileName","getLocation","location","row","column","react_1","LogBoxInspectorSection_1","heading","react_native_1","style","styles","box","frame","horizontal","AnsiHighlight_1","content","text","LogBoxButton_1","backgroundColor","default","pressed","LogBoxStyle","getBackgroundDarkColor","button","onPress","selectable","fileText","exports","create","getBackgroundColor","borderWidth","borderColor","marginLeft","marginRight","marginTop","borderRadius","padding","borderBottomColor","getTextColor","borderBottomWidth","paddingTop","paddingBottom","color","fontSize","includeFontPadding","lineHeight","fontFamily","constants_1","textAlign","flex"],"sourceRoot":"","sources":["../../../src/error-overlay/overlay/LogBoxInspectorCodeFrame.tsx"],"sourcesContent":["/**\n * Copyright (c) Evan Bacon.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from \"react\";\nimport { ScrollView, StyleSheet, Text, View } from \"react-native\";\n\nimport { LogBoxInspectorSection } from \"./LogBoxInspectorSection\";\nimport type { CodeFrame } from \"../Data/parseLogBoxLog\";\nimport { Ansi } from \"../UI/AnsiHighlight\";\nimport { LogBoxButton } from \"../UI/LogBoxButton\";\nimport * as LogBoxStyle from \"../UI/LogBoxStyle\";\nimport { CODE_FONT } from \"../UI/constants\";\nimport { formatProjectFileName } from \"../formatProjectFilePath\";\nimport openFileInEditor from \"../modules/openFileInEditor\";\n\nexport function LogBoxInspectorCodeFrame(props: { codeFrame?: CodeFrame }) {\n  const codeFrame = props.codeFrame;\n  if (codeFrame == null) {\n    return null;\n  }\n\n  function getFileName() {\n    return formatProjectFileName(codeFrame?.fileName);\n  }\n\n  function getLocation() {\n    const location = codeFrame?.location;\n    if (location != null) {\n      return ` (${location.row}:${\n        location.column + 1 /* Code frame columns are zero indexed */\n      })`;\n    }\n\n    return null;\n  }\n\n  return (\n    <LogBoxInspectorSection heading=\"Source\">\n      <View style={styles.box}>\n        <View style={styles.frame}>\n          <ScrollView horizontal>\n            <Ansi style={styles.content} text={codeFrame.content} />\n          </ScrollView>\n        </View>\n        <LogBoxButton\n          backgroundColor={{\n            default: \"transparent\",\n            pressed: LogBoxStyle.getBackgroundDarkColor(1),\n          }}\n          style={styles.button}\n          onPress={() => {\n            openFileInEditor(codeFrame.fileName, codeFrame.location?.row ?? 0);\n          }}\n        >\n          <Text selectable={false} style={styles.fileText}>\n            {getFileName()}\n            {getLocation()}\n          </Text>\n        </LogBoxButton>\n      </View>\n    </LogBoxInspectorSection>\n  );\n}\n\nconst styles = StyleSheet.create({\n  box: {\n    backgroundColor: LogBoxStyle.getBackgroundColor(),\n    borderWidth: 1,\n    borderColor: \"#323232\",\n    marginLeft: 10,\n    marginRight: 10,\n    marginTop: 5,\n    borderRadius: 3,\n  },\n  frame: {\n    padding: 10,\n    borderBottomColor: LogBoxStyle.getTextColor(0.1),\n    borderBottomWidth: 1,\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10,\n  },\n  content: {\n    color: LogBoxStyle.getTextColor(1),\n    fontSize: 12,\n    includeFontPadding: false,\n    lineHeight: 20,\n    fontFamily: CODE_FONT,\n  },\n  fileText: {\n    color: LogBoxStyle.getTextColor(0.5),\n    textAlign: \"center\",\n    flex: 1,\n    fontSize: 16,\n    includeFontPadding: false,\n    fontFamily: CODE_FONT,\n  },\n});\n"]},"metadata":{},"sourceType":"script"}